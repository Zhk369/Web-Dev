<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let range = {
        from: 1,
        to: 5
    };

    // 1. call to for..of initially calls this
    range[Symbol.iterator] = function() {

        // ...it returns the iterator object:
        // 2. Onward, for..of works only with the iterator object below, asking it for next values
        return {
            current: this.from,
            last: this.to,

            // 3. next() is called on each iteration by the for..of loop
            next() {
                // 4. it should return the value as an object {done:.., value :...}
                if (this.current <= this.last) {
                    return { done: false, value: this.current++ };
                } else {
                    return { done: true };
                }
            }
        };
    };

    // now it works!
    for (let num of range) {
        alert(num); // 1, then 2, 3, 4, 5
    }

    let str3 = 'ð’³ðŸ˜‚';
    for (let char of str3) {
        alert( char ); // ð’³, and then ðŸ˜‚
    }

    let str = "Hello";

    // does the same as
    // for (let char of str) alert(char);

    let iterator = str[Symbol.iterator]();

    while (true) {
        let result = iterator.next();
        if (result.done) break;
        alert(result.value); // outputs characters one by one
    }

    let arrayLike = {
        0: "Hello",
        1: "World",
        length: 2
    };

    let arr = Array.from(arrayLike); // (*)
    alert(arr.pop()); // World (method works)

    str = 'ð’³ðŸ˜‚';

    // splits str into array of characters
    let chars = Array.from(str);

    alert(chars[0]); // ð’³
    alert(chars[1]); // ðŸ˜‚
    alert(chars.length); // 2

    function unique(arr) {
        return Array.from(new Set(arr));
    }

    function aclean(arr) {
        let map = new Map();

        for (let word of arr) {
            // split the word by letters, sort them and join back
            let sorted = word.toLowerCase().split('').sort().join(''); // (*)
            map.set(sorted, word);
        }

        return Array.from(map.values());
    }

    let arr = ["nap", "teachers", "cheaters", "PAN", "ear", "era", "hectares"];

    alert( aclean(arr) );

    let map = new Map();

    map.set("name", "John");

    let keys = Array.from(map.keys());

    keys.push("more");

    alert(keys); // name, more
</script>
</body>
</html>